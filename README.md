# Coze Studio ä¸€é”®ç®¡ç†å·¥å…·

[![Version](https://img.shields.io/badge/version-1.0-blue.svg)](https://github.com/oneclick-coze)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Shell](https://img.shields.io/badge/shell-bash-orange.svg)](https://www.gnu.org/software/bash/)
[![Platform](https://img.shields.io/badge/platform-Linux-lightgrey.svg)](https://www.linux.org/)

> ğŸš€ ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Coze Studio ä¸€é”®å®‰è£…å’Œç®¡ç†å·¥å…·ï¼Œæ”¯æŒä¸­è‹±æ–‡åŒè¯­ï¼Œæä¾›å®Œæ•´çš„æ¨¡å‹ç®¡ç†ã€æœåŠ¡æ§åˆ¶å’ŒåŸŸåé…ç½®åŠŸèƒ½ã€‚

[English](#english) | [ä¸­æ–‡](#ä¸­æ–‡)

---

## ä¸­æ–‡

### ğŸ“– é¡¹ç›®ä»‹ç»

Coze Studio ä¸€é”®ç®¡ç†å·¥å…·æ˜¯ä¸€ä¸ªåŸºäº Bash çš„äº¤äº’å¼å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸“ä¸ºç®€åŒ– Coze Studio çš„éƒ¨ç½²ã€é…ç½®å’Œç®¡ç†è€Œè®¾è®¡ã€‚é€šè¿‡ç›´è§‚çš„èœå•ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾å®Œæˆä»å®‰è£…åˆ°é«˜çº§é…ç½®çš„æ‰€æœ‰æ“ä½œã€‚

### âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸŒ **åŒè¯­æ”¯æŒ** - å®Œæ•´çš„ä¸­è‹±æ–‡ç•Œé¢ï¼Œè‡ªåŠ¨è¯­è¨€æ£€æµ‹
- ğŸ”§ **ä¸€é”®å®‰è£…** - è‡ªåŠ¨åŒ–å®‰è£… Coze Studioï¼ŒåŒ…å«æ‰€æœ‰ä¾èµ–æ£€æŸ¥
- ğŸ¤– **æ¨¡å‹ç®¡ç†** - åŠ¨æ€æ·»åŠ å’Œé…ç½® AI æ¨¡å‹ï¼Œæ”¯æŒå¤šç§æ¨¡å‹æ¨¡æ¿
- ğŸ”„ **æœåŠ¡æ§åˆ¶** - å¯åŠ¨ã€åœæ­¢ã€é‡å¯ Coze Studio æœåŠ¡
- ğŸŒ **ç½‘ç»œä¼˜åŒ–** - æ™ºèƒ½ç½‘ç»œç¯å¢ƒé€‰æ‹©ï¼Œå›½å†…å¤–åŠ é€Ÿæ”¯æŒ
- ğŸ”’ **åŸŸåé…ç½®** - è‡ªåŠ¨ HTTPS é…ç½®ï¼ŒSSL è¯ä¹¦ç®¡ç†
- ğŸ—‘ï¸ **å®Œæ•´æ¸…ç†** - å®‰å…¨å¸è½½ï¼ŒåŒ…å«æ•°æ®å’Œé…ç½®æ¸…ç†
- ğŸ“¦ **æ¨¡å—åŒ–æ¶æ„** - æ˜“äºç»´æŠ¤å’Œæ‰©å±•çš„ä»£ç ç»“æ„

### ğŸ–¥ï¸ ç³»ç»Ÿè¦æ±‚

| ç»„ä»¶ | è¦æ±‚ |
|------|------|
| **æ“ä½œç³»ç»Ÿ** | Linux (Ubuntu 18.04+, Debian 9+, CentOS 7+) |
| **Shell** | Bash 4.0+ |
| **å†…å­˜** | 4GB+ RAM |
| **å­˜å‚¨** | 10GB+ å¯ç”¨ç©ºé—´ |
| **ç½‘ç»œ** | äº’è”ç½‘è¿æ¥ |

#### å¿…éœ€ä¾èµ–
- Git
- Docker & Docker Compose
- curl
- sudo æƒé™

#### åŸŸåé…ç½®é¢å¤–è¦æ±‚
- Ubuntu 18.04+ æˆ– Debian 9+
- æœ‰æ•ˆçš„åŸŸåå’Œ DNS é…ç½®
- å¼€æ”¾ 80/443 ç«¯å£

### ğŸš€ å¿«é€Ÿå¼€å§‹

#### 1. ä¸‹è½½å·¥å…·

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-username/oneclick-coze.git
cd oneclick-coze

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x coze-studio.sh
```

#### 2. è¿è¡Œå·¥å…·

```bash
./coze-studio.sh
```

#### 3. é€‰æ‹©è¯­è¨€

é¦–æ¬¡è¿è¡Œæ—¶é€‰æ‹©ç•Œé¢è¯­è¨€ï¼š
- `1` - ä¸­æ–‡
- `2` - English

### ğŸ“‹ ä¸»è¦åŠŸèƒ½

#### 1ï¸âƒ£ å®‰è£… Coze Studio

å®Œæ•´çš„è‡ªåŠ¨åŒ–å®‰è£…æµç¨‹ï¼š

1. **ç³»ç»Ÿæ£€æŸ¥** - éªŒè¯ Gitã€Docker ç­‰ä¾èµ–
2. **ç›®å½•é…ç½®** - é€‰æ‹©å®‰è£…ç›®å½•
3. **ç½‘ç»œç¯å¢ƒ** - é€‰æ‹©å›½å†…/å›½å¤–ç½‘ç»œç¯å¢ƒ
4. **ä»£ç ä¸‹è½½** - å…‹éš† Coze Studio ä»“åº“
5. **æ¨¡å‹é…ç½®** - è®¾ç½® API Key å’Œé»˜è®¤æ¨¡å‹
6. **æœåŠ¡å¯åŠ¨** - å¯åŠ¨æ‰€æœ‰å¿…éœ€æœåŠ¡
7. **éªŒè¯å®‰è£…** - ç¡®è®¤æœåŠ¡æ­£å¸¸è¿è¡Œ

**ç½‘ç»œç¯å¢ƒé€‰æ‹©ï¼š**
- **å›½å†…ç¯å¢ƒ**ï¼šä½¿ç”¨ GitHub åŠ é€Ÿé•œåƒ + Docker é•œåƒæº
- **å›½å¤–ç¯å¢ƒ**ï¼šç›´æ¥è®¿é—®åŸå§‹ä»“åº“å’Œé•œåƒ

#### 2ï¸âƒ£ æ·»åŠ æ¨¡å‹

åŠ¨æ€æ¨¡å‹ç®¡ç†åŠŸèƒ½ï¼š

- ğŸ“ **æ¨¡æ¿å‘ç°** - è‡ªåŠ¨æ‰«æå¯ç”¨æ¨¡å‹æ¨¡æ¿
- ğŸ¯ **æ™ºèƒ½é€‰æ‹©** - äº¤äº’å¼æ¨¡æ¿é€‰æ‹©ç•Œé¢
- ğŸ”§ **é…ç½®å‘å¯¼** - å¼•å¯¼å¼ API Key å’Œæ¨¡å‹ ID é…ç½®
- ğŸ”„ **è‡ªåŠ¨é‡å¯** - é…ç½®å®Œæˆåè‡ªåŠ¨é‡å¯ç›¸å…³æœåŠ¡

#### 3ï¸âƒ£ æœåŠ¡ç®¡ç†

å…¨é¢çš„æœåŠ¡æ§åˆ¶ï¼š

- **é‡å¯æœåŠ¡** - é‡æ–°å¯åŠ¨æ‰€æœ‰ Coze Studio æœåŠ¡
- **åœæ­¢æœåŠ¡** - å®‰å…¨åœæ­¢æ‰€æœ‰è¿è¡Œä¸­çš„æœåŠ¡
- **çŠ¶æ€ç›‘æ§** - å®æ—¶æœåŠ¡çŠ¶æ€æ£€æŸ¥

#### 4ï¸âƒ£ åŸŸåé…ç½® (Ubuntu/Debian)

ä¸“ä¸šçš„ HTTPS é…ç½®ï¼š

- ğŸ”’ **SSL è¯ä¹¦** - è‡ªåŠ¨ç”³è¯· Let's Encrypt è¯ä¹¦
- ğŸŒ **Nginx ä»£ç†** - è‡ªåŠ¨é…ç½®åå‘ä»£ç†
- ğŸ”„ **è‡ªåŠ¨ç»­æœŸ** - SSL è¯ä¹¦è‡ªåŠ¨ç»­æœŸ
- ğŸ›¡ï¸ **å®‰å…¨é…ç½®** - å®Œæ•´çš„å®‰å…¨å¤´å’Œ HTTPS é‡å®šå‘

#### 5ï¸âƒ£ å®Œæ•´å¸è½½

å®‰å…¨çš„ç³»ç»Ÿæ¸…ç†ï¼š

- ğŸ›‘ **æœåŠ¡åœæ­¢** - åœæ­¢æ‰€æœ‰ç›¸å…³æœåŠ¡
- ğŸ—‘ï¸ **æ–‡ä»¶æ¸…ç†** - åˆ é™¤å®‰è£…ç›®å½•å’Œé…ç½®
- ğŸ“¦ **é•œåƒæ¸…ç†** - æ¸…ç† Docker é•œåƒå’Œå®¹å™¨
- âš ï¸ **å®‰å…¨ç¡®è®¤** - é˜²æ­¢æ„å¤–åˆ é™¤çš„ç¡®è®¤æœºåˆ¶

### ğŸŒ ç½‘ç»œç¯å¢ƒé…ç½®

#### å›½å†…ç”¨æˆ·ä¼˜åŒ–

é€‰æ‹©"å›½å†…"ç½‘ç»œç¯å¢ƒæ—¶ï¼Œå·¥å…·ä¼šè‡ªåŠ¨é…ç½®ï¼š

**GitHub åŠ é€Ÿï¼š**
```
åŸå§‹åœ°å€: https://github.com/coze-dev/coze-studio.git
åŠ é€Ÿåœ°å€: https://ghfast.top/https://github.com/coze-dev/coze-studio.git
```

**Docker é•œåƒåŠ é€Ÿï¼š**
```json
{
  "registry-mirrors": [
    "https://docker.1panel.live",
    "https://docker.1ms.run",
    "https://dytt.online",
    // ... æ›´å¤šé•œåƒæº
  ]
}
```

#### å›½å¤–ç”¨æˆ·é…ç½®

é€‰æ‹©"å›½å¤–"ç½‘ç»œç¯å¢ƒæ—¶ï¼š
- ä½¿ç”¨åŸå§‹ GitHub åœ°å€
- æ¢å¤ Docker é»˜è®¤é…ç½®
- è·å¾—æœ€ä½³çš„åŸç”Ÿæ€§èƒ½

### ğŸ”§ é…ç½®è¯´æ˜

#### é»˜è®¤é…ç½®æ–‡ä»¶

```bash
config/settings.conf
```

ä¸»è¦é…ç½®é¡¹ï¼š
- `DEFAULT_INSTALL_DIR`: é»˜è®¤å®‰è£…ç›®å½•
- `DEFAULT_MODEL_ID`: é»˜è®¤æ¨¡å‹ ID
- `COZE_REPO_URL`: ä»“åº“åœ°å€
- `AUTO_DETECT_LANGUAGE`: è‡ªåŠ¨è¯­è¨€æ£€æµ‹

#### è‡ªå®šä¹‰é…ç½®

å¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥æ”¹å˜é»˜è®¤è¡Œä¸ºï¼š

```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano config/settings.conf

# é‡æ–°è¿è¡Œå·¥å…·
./coze-studio.sh
```

### ğŸ“ é¡¹ç›®ç»“æ„

```
oneclick-coze/
â”œâ”€â”€ coze-studio.sh          # ä¸»å…¥å£è„šæœ¬
â”œâ”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ CLAUDE.md              # å¼€å‘è€…æ–‡æ¡£
â”œâ”€â”€ lib/                   # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ common.sh          # é€šç”¨å‡½æ•°å’Œå˜é‡
â”‚   â”œâ”€â”€ messages.sh        # å¤šè¯­è¨€æ¶ˆæ¯ç³»ç»Ÿ
â”‚   â”œâ”€â”€ ui.sh              # ç”¨æˆ·ç•Œé¢
â”‚   â””â”€â”€ utils.sh           # å·¥å…·å‡½æ•°
â”œâ”€â”€ modules/               # åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ install.sh         # å®‰è£…æ¨¡å—
â”‚   â”œâ”€â”€ model.sh           # æ¨¡å‹ç®¡ç†
â”‚   â”œâ”€â”€ service.sh         # æœåŠ¡æ§åˆ¶
â”‚   â”œâ”€â”€ domain.sh          # åŸŸåé…ç½®
â”‚   â””â”€â”€ cleanup.sh         # æ¸…ç†æ¨¡å—
â””â”€â”€ config/               # é…ç½®æ–‡ä»¶
    â””â”€â”€ settings.conf     # é»˜è®¤é…ç½®
```

### â“ å¸¸è§é—®é¢˜

#### Q: è„šæœ¬æç¤º "trap: ERR: bad trap" é”™è¯¯ï¼Ÿ
A: è¯·ç¡®ä¿ä½¿ç”¨ Bash è¿è¡Œè„šæœ¬ï¼š
```bash
bash coze-studio.sh
```

#### Q: Docker æƒé™é”™è¯¯ï¼Ÿ
A: ç¡®ä¿å½“å‰ç”¨æˆ·æœ‰ sudo æƒé™ï¼š
```bash
sudo usermod -aG docker $USER
newgrp docker
```

#### Q: ç½‘ç»œè¿æ¥å¤±è´¥ï¼Ÿ
A: å°è¯•é€‰æ‹©ä¸åŒçš„ç½‘ç»œç¯å¢ƒï¼š
- å›½å†…ç”¨æˆ·é€‰æ‹©"å›½å†…"ç¯å¢ƒ
- æµ·å¤–ç”¨æˆ·é€‰æ‹©"å›½å¤–"ç¯å¢ƒ

#### Q: SSL è¯ä¹¦ç”³è¯·å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ä»¥ä¸‹æ¡ä»¶ï¼š
- åŸŸåæ­£ç¡®è§£æåˆ°æœåŠ¡å™¨ IP
- é˜²ç«å¢™å¼€æ”¾ 80/443 ç«¯å£
- ç¡®ä¿åŸŸåæœªè¢«å…¶ä»–æœåŠ¡å ç”¨

#### Q: æ¨¡å‹é…ç½®åä¸ç”Ÿæ•ˆï¼Ÿ
A: å·¥å…·ä¼šè‡ªåŠ¨é‡å¯ coze-serverï¼Œå¦‚æœä»ç„¶ä¸ç”Ÿæ•ˆï¼Œè¯·æ‰‹åŠ¨é‡å¯ï¼š
```bash
cd coze-studio/docker
docker compose --profile "*" restart coze-server
```

### ğŸ”§ æ•…éšœæ’é™¤

#### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹ Docker æœåŠ¡æ—¥å¿—
cd coze-studio/docker
docker compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker compose logs coze-server
```

#### é‡ç½®é…ç½®
```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
docker compose --profile "*" down

# é‡ç½® Docker é…ç½®
sudo rm -f /etc/docker/daemon.json
sudo systemctl restart docker

# é‡æ–°è¿è¡Œå®‰è£…
./coze-studio.sh
```

### ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

#### å¼€å‘è§„èŒƒ
- éµå¾ªç°æœ‰ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Š
- ç¡®ä¿åŒè¯­æ”¯æŒ
- æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

### ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

### ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
2. æœç´¢ [Issues](https://github.com/your-username/oneclick-coze/issues)
3. åˆ›å»ºæ–°çš„ Issue

---

## English

### ğŸ“– Introduction

Coze Studio One-Click Management Tool is an interactive command-line utility built with Bash, designed to simplify the deployment, configuration, and management of Coze Studio. Through an intuitive menu interface, users can easily complete all operations from installation to advanced configuration.

### âœ¨ Features

- ğŸŒ **Bilingual Support** - Complete Chinese/English interface with automatic language detection
- ğŸ”§ **One-Click Installation** - Automated Coze Studio installation with dependency checks
- ğŸ¤– **Model Management** - Dynamic AI model addition and configuration with multiple templates
- ğŸ”„ **Service Control** - Start, stop, restart Coze Studio services
- ğŸŒ **Network Optimization** - Smart network environment selection with acceleration support
- ğŸ”’ **Domain Configuration** - Automatic HTTPS setup with SSL certificate management
- ğŸ—‘ï¸ **Complete Cleanup** - Safe uninstallation with data and configuration cleanup
- ğŸ“¦ **Modular Architecture** - Easy to maintain and extend codebase

### ğŸ–¥ï¸ System Requirements

| Component | Requirement |
|-----------|-------------|
| **OS** | Linux (Ubuntu 18.04+, Debian 9+, CentOS 7+) |
| **Shell** | Bash 4.0+ |
| **RAM** | 4GB+ |
| **Storage** | 10GB+ available space |
| **Network** | Internet connection |

#### Required Dependencies
- Git
- Docker & Docker Compose
- curl
- sudo privileges

#### Additional Requirements for Domain Configuration
- Ubuntu 18.04+ or Debian 9+
- Valid domain name with DNS configuration
- Open ports 80/443

### ğŸš€ Quick Start

#### 1. Download Tool

```bash
# Clone repository
git clone https://github.com/your-username/oneclick-coze.git
cd oneclick-coze

# Make executable
chmod +x coze-studio.sh
```

#### 2. Run Tool

```bash
./coze-studio.sh
```

#### 3. Select Language

Choose interface language on first run:
- `1` - ä¸­æ–‡ (Chinese)
- `2` - English

### ğŸ“‹ Main Features

#### 1ï¸âƒ£ Install Coze Studio

Complete automated installation process:

1. **System Check** - Verify Git, Docker dependencies
2. **Directory Setup** - Choose installation directory
3. **Network Environment** - Select China/International network
4. **Code Download** - Clone Coze Studio repository
5. **Model Configuration** - Set API Key and default model
6. **Service Startup** - Start all required services
7. **Installation Verification** - Confirm services are running

**Network Environment Options:**
- **China**: GitHub acceleration mirror + Docker registry mirrors
- **International**: Direct access to original repositories

#### 2ï¸âƒ£ Add Model

Dynamic model management:

- ğŸ“ **Template Discovery** - Automatically scan available model templates
- ğŸ¯ **Smart Selection** - Interactive template selection interface
- ğŸ”§ **Configuration Wizard** - Guided API Key and model ID setup
- ğŸ”„ **Auto Restart** - Automatic service restart after configuration

#### 3ï¸âƒ£ Service Management

Comprehensive service control:

- **Restart Service** - Restart all Coze Studio services
- **Stop Service** - Safely stop all running services
- **Status Monitoring** - Real-time service status checking

#### 4ï¸âƒ£ Domain Configuration (Ubuntu/Debian)

Professional HTTPS setup:

- ğŸ”’ **SSL Certificates** - Automatic Let's Encrypt certificate acquisition
- ğŸŒ **Nginx Proxy** - Automatic reverse proxy configuration
- ğŸ”„ **Auto Renewal** - SSL certificate automatic renewal
- ğŸ›¡ï¸ **Security Config** - Complete security headers and HTTPS redirect

#### 5ï¸âƒ£ Complete Removal

Safe system cleanup:

- ğŸ›‘ **Service Stop** - Stop all related services
- ğŸ—‘ï¸ **File Cleanup** - Remove installation directories and configs
- ğŸ“¦ **Image Cleanup** - Clean Docker images and containers
- âš ï¸ **Safety Confirmation** - Confirmation mechanism to prevent accidental deletion

### â“ FAQ

#### Q: Script shows "trap: ERR: bad trap" error?
A: Make sure to run with Bash:
```bash
bash coze-studio.sh
```

#### Q: Docker permission errors?
A: Ensure current user has sudo privileges:
```bash
sudo usermod -aG docker $USER
newgrp docker
```

#### Q: Network connection failures?
A: Try different network environments:
- China users: select "China" environment
- International users: select "International" environment

#### Q: SSL certificate acquisition fails?
A: Check these conditions:
- Domain correctly resolves to server IP
- Firewall allows ports 80/443
- Domain not occupied by other services

### ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

### ğŸ“ Support

If you encounter issues:
1. Check [FAQ](#faq)
2. Search [Issues](https://github.com/your-username/oneclick-coze/issues)
3. Create a new Issue

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

**â­ If this project helps you, please give us a Star!**

</div>